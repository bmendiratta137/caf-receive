{"version":3,"file":"newrelic-caf.min.js","mappings":"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","sources":["webpack://nrvideo/webpack/universalModuleDefinition","webpack://nrvideo/./node_modules/newrelic-video-core/src/backend.js","webpack://nrvideo/./node_modules/newrelic-video-core/src/chrono.js","webpack://nrvideo/./node_modules/newrelic-video-core/src/constants.js","webpack://nrvideo/./node_modules/newrelic-video-core/src/core.js","webpack://nrvideo/./node_modules/newrelic-video-core/src/emitter.js","webpack://nrvideo/./node_modules/newrelic-video-core/src/index.js","webpack://nrvideo/./node_modules/newrelic-video-core/src/log.js","webpack://nrvideo/./node_modules/newrelic-video-core/src/plugins/nrinsightsbackend.js","webpack://nrvideo/./node_modules/newrelic-video-core/src/tracker.js","webpack://nrvideo/./node_modules/newrelic-video-core/src/videotracker.js","webpack://nrvideo/./node_modules/newrelic-video-core/src/videotrackerstate.js","webpack://nrvideo/./src/ads.js","webpack://nrvideo/./src/index.js","webpack://nrvideo/./src/tracker.js","webpack://nrvideo/webpack/bootstrap","webpack://nrvideo/webpack/before-startup","webpack://nrvideo/webpack/startup","webpack://nrvideo/webpack/after-startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"nrvideo\"] = factory();\n\telse\n\t\troot[\"nrvideo\"] = factory();\n})(self, () => {\nreturn ","/**\n * Backend class provides the basic logic to create event backends.\n * This class is intended to be subclassed, not directly used.\n * \n * @class Backend\n */\nclass Backend {\n\n    constructor() {\n        /**\n         * Custom attributes\n         * @private\n         */\n        this._attributes = {}\n    }\n\n    /**\n     * Sends given event (to be overwritten by a subclass).\n     * @param {String} event Event to send.\n     * @param {Object} data Data associated to the event.\n     */\n    send(event, data) {\n        data = Object.assign(data || {}, this._attributes)\n    }\n\n    /**\n     * Store custom attribute.\n     * @param {String} key Attribute name.\n     * @param {Object} value Attribute value.\n     */\n    setAttribute(key, value) {\n        this._attributes[key] = value\n    }\n\n    /**\n     * Store custom attribute list.\n     * @param {Object} attr Attributes.\n     */\n    setAttributes(attr) {\n        this._attributes.append(attr)\n    }\n}\n\nexport default Backend","/**\n * This class calculates time lapses between two points on time.\n */\nclass Chrono {\n  /**\n   * Constructor\n   */\n  constructor () {\n    this.reset()\n  }\n\n  /** Reset chrono values. */\n  reset () {\n    /** Start time */\n    this.startTime = 0\n\n    /** Stop time */\n    this.stopTime = 0\n\n    /**\n     * If you set an offset in a chrono, its value will be added getDeltaTime and stop.\n     *\n     * @example\n     * let chrono = new Chrono()\n     * chrono.offset = 500\n     * chrono.start()\n     * process.sleep(500)\n     * chrono.stop() // Will return 1000\n     *\n     * @type {number}\n     */\n    this.offset = 0\n  }\n\n  /**\n   * Returns the time between start() and the last stop() in ms. Returns null if start wasn't\n   * called.\n   * @return {(number|null)} Time lapse in ms.\n   */\n  getDeltaTime () {\n    if (this.startTime) {\n      return this.offset + (new Date().getTime() - this.startTime)\n    } else {\n      return null\n    }\n  }\n\n  /**\n   * Starts the chrono.\n   */\n  start () {\n    this.startTime = new Date().getTime()\n    this.stopTime = 0\n  }\n\n  /**\n   * Stops the timer and returns delta time.\n   * @return {(number|null)} Returns the delta time\n   */\n  stop () {\n    this.stopTime = new Date().getTime()\n    return this.getDeltaTime()\n  }\n\n  /**\n   * Creates a copy of the chrono.\n   * @returns {Chrono} Cloned chrono\n   */\n  clone () {\n    var chrono = new Chrono()\n    chrono.startTime = this.startTime\n    chrono.stopTime = this.stopTime\n    chrono.offset = this.offset\n    return chrono\n  }\n}\n\nexport default Chrono\n","/**\n * Constants for the library.\n * @class Constants\n * @static\n */\nclass Constants {}\n\n/**\n * Enum for types/positions of ads.\n * @example var type = Constants.AdPositions.PRE\n * @enum {String}\n */\nConstants.AdPositions = {\n  /** For ads shown before the content. */\n  PRE: 'pre',\n  /** For ads shown during the content. */\n  MID: 'mid',\n  /** For ads shown after the content. */\n  POST: 'post'\n}\n\nexport default Constants\n","import Log from './log'\nimport Backend from './backend'\n\n/**\n * Static class that sums up core functionalities of the library.\n * @static\n */\nclass Core {\n  /**\n   * Add a tracker to the system. Trackers added will start reporting its events to NR's backend.\n   *\n   * @param {(Emitter|Tracker)} tracker Tracker instance to add.\n   */\n  static addTracker (tracker) {\n    if (tracker.on && tracker.emit) {\n      trackers.push(tracker)\n      tracker.on('*', eventHandler)\n      if (typeof tracker.trackerInit == 'function') { \n        tracker.trackerInit(); \n      }\n    } else {\n      Log.error('Tried to load a non-tracker.', tracker)\n    }\n  }\n\n  /**\n   * Disposes and remove given tracker. Removes its listeners.\n   *\n   * @param {Tracker} tracker Tracker to remove.\n   */\n  static removeTracker (tracker) {\n    tracker.off('*', eventHandler)\n    tracker.dispose()\n    let index = trackers.indexOf(tracker)\n    if (index !== -1) trackers.splice(index, 1)\n  }\n\n  /**\n   * Returns the array of trackers.\n   *\n   * @returns {Tracker[]} Array of trackers.\n   */\n  static getTrackers () {\n    return trackers\n  }\n\n  /**\n   * Returns the current backend.\n   *\n   * @returns {Backend} The current backend.\n   */\n  static getBackend() {\n    return backend\n  }\n\n  /**\n   * Sets the current backend.\n   * @param {Backend} backendInstance Backend instance.\n   */\n  static setBackend(backendInstance) {\n      backend = backendInstance\n  }\n\n  /**\n   * Sends given event using the appropriate backend.\n   * @param {String} event Event to send.\n   * @param {Object} data Data associated to the event.\n   */\n  static send(event, data) {\n    if (Core.getBackend() == undefined || !(Core.getBackend() instanceof Backend)) {\n        // Use the default backend (NR Agent)\n        if (typeof newrelic !== 'undefined' && newrelic.addPageAction) {\n            newrelic.addPageAction(event, data)\n        } else {\n            if (!isErrorShown) {\n                Log.error(\n                    'newrelic.addPageAction() is not available.',\n                    'In order to use NewRelic Video you will need New Relic Browser Agent.'\n                )\n                isErrorShown = true\n            }\n        }\n    }\n    else {\n        // Use the user-defined backend\n        Core.getBackend().send(event, data)\n    }\n  }\n\n  /**\n   * Sends an error event. This may be used for external errors launched by the app, the network or\n   * any external factor. Note that errors within the player are normally reported with\n   * tracker.sendError, so this method should not be used to report those.\n   *\n   * @param {object} att attributes to be sent along the error.\n   */\n  static sendError (att) {\n    Core.send('ERROR', att)\n  }\n}\n\nlet trackers = []\nlet backend;\nlet isErrorShown = false\n\n/**\n * Logs and sends given event.\n *\n * @private\n * @param {Event} e Event\n */\nfunction eventHandler (e) {\n  let data = cleanData(e.data)\n  if (Log.level <= Log.Levels.DEBUG) {\n    Log.notice('Sent', e.type, data)\n  } else {\n    Log.notice('Sent', e.type)\n  }\n  Core.send(e.type, data)\n}\n\n/**\n * Cleans given object, removing all items with value === null.\n * @private\n * @param {Object} data Data to clean\n * @returns {Object} Cleaned object\n */\nfunction cleanData (data) {\n  let ret = {}\n  for (let i in data) {\n    if (data[i] !== null && typeof data[i] !== 'undefined') ret[i] = data[i]\n  }\n  return ret\n}\n\nexport default Core\n","/**\n * This base class implements a basic behavior of listeners and events. Extend this object to have\n * this feature built-in inside your classes.\n *\n * @class Emitter\n */\nclass Emitter {\n  /**\n   * Sets a listener to a given event. Use {@link emit} to trigger those events.\n   * Pass '*' to listen ALL events.\n   *\n   * @param {string} event Name of the event.\n   * @param {function} callback Callback of the event. Receives event and data.\n   * @return this\n   */\n  on (event, callback) {\n    this._listeners = this._listeners || {}\n    if (typeof callback === 'function') {\n      this._listeners[event] = this._listeners[event] || []\n      this._listeners[event].push(callback)\n      return this\n    }\n  }\n\n  /**\n   * Removes given callback from the listeners of this object.\n   *\n   * @param {string} event Name of the event.\n   * @param {function} callback Callback of the event.\n   * @return this\n   */\n  off (event, callback) {\n    this._listeners = this._listeners || {}\n\n    if (this._listeners[event]) {\n      var index = this._listeners[event].indexOf(callback)\n      if (index !== -1) {\n        this._listeners[event].splice(index, 1)\n      }\n    }\n    return this\n  }\n\n  /**\n   * Emits given event, triggering all the associated callbacks.\n   *\n   * @param {string} event Name of the event.\n   * @param {object} [data] Custom data to be sent to the callbacks.\n   * @return this\n   */\n  emit (event, data) {\n    this._listeners = this._listeners || {}\n    data = data || {}\n\n    if (Array.isArray(this._listeners[event])) {\n      this._listeners[event].forEach((callback) => {\n        callback.call(this, { type: event, data: data, target: this })\n      })\n    }\n\n    if (Array.isArray(this._listeners['*'])) {\n      this._listeners['*'].forEach((callback) => {\n        callback.call(this, { type: event, data: data, target: this })\n      })\n    }\n\n    return this\n  }\n}\n\nexport default Emitter\n","import Backend from './backend'\nimport NRInsightsBackend from './plugins/nrinsightsbackend'\nimport Core from './core'\nimport Constants from './constants'\nimport Chrono from './chrono'\nimport Log from './log'\nimport Emitter from './emitter'\nimport Tracker from './tracker'\nimport VideoTracker from './videotracker'\nimport VideoTrackerState from './videotrackerstate'\nimport { version } from '../package.json'\n\nexport {\n  Constants,\n  Chrono,\n  Log,\n  Emitter,\n  Tracker,\n  VideoTracker,\n  VideoTrackerState,\n  Core,\n  Backend,\n  NRInsightsBackend,\n  version\n}\n","/**\n * Static Log class\n *\n * @class\n * @static\n */\nclass Log {\n   /**\n   * Sends an error console log.\n   * @param {...any} [msg] Message to show\n   * @static\n   */\n  static error (...msg) {\n    _report(msg, Log.Levels.ERROR, 'darkred')\n  }\n\n  /**\n   * Sends a warning console log.\n   * @method Log.warn\n   * @static\n   * @param {...any} msg Message to show\n   */\n  static warn (...msg) {\n    _report(msg, Log.Levels.WARNING, 'darkorange')\n  }\n\n  /**\n   * Sends a notice console log.\n   * @method Log.notice\n   * @static\n   * @param {...any} msg Message to show\n   */\n  static notice (...msg) {\n    _report([].slice.call(arguments), Log.Levels.NOTICE, 'darkcyan')\n  }\n\n  /**\n   * Sends a debug message to console.\n   * @method Log.debug\n   * @static\n   * @param {...any} msg Message to show\n   */\n  static debug (...msg) {\n    _report(msg, Log.Levels.DEBUG, 'indigo')\n  }\n\n  /**\n   * This utility method will add most of the HTML5 common event listeners to the player sent.\n   * Events will be reported as DEBUG level messages.\n   *\n   * @example\n   * // Already included events:\n   * ['canplay', 'buffering', 'waiting', 'ended', 'play', 'playing', 'pause', 'resume', 'error',\n   * 'abort', 'seek', 'seeking', 'seeked', 'stalled', 'dispose', 'loadeddata', 'loadstart',\n   * 'loadedmetadata']\n   *\n   * @method Log.debugCommonVideoEvents\n   * @static\n   * @param {object|function} o Object to attach the events.\n   * @param {array} [extraEvents]\n   * An array of extra events to watch. ie:  ['timeupdate', 'progress'].\n   * If the first item is null, no common events will be added.\n   * @param {function} [report] Callback function called to report events.\n   * Default calls Log.debug()\n   */\n  static debugCommonVideoEvents (o, extraEvents, report) {\n    try {\n      if (Log.level <= Log.Levels.DEBUG) {\n        report = report || function (e) {\n          Log.debug('Event: ' + e.type)\n        }\n\n        var playerEvents = [\n          'canplay', 'buffering', 'waiting', 'ended', 'play', 'playing',\n          'pause', 'resume', 'error', 'abort', 'seek', 'seeking', 'seeked',\n          'stalled', 'dispose', 'loadeddata', 'loadstart', 'loadedmetadata'\n        ]\n        if (extraEvents) {\n          if (extraEvents[0] === null) {\n            extraEvents.shift()\n            playerEvents = extraEvents\n          } else {\n            playerEvents = playerEvents.concat(extraEvents)\n          }\n        }\n\n        for (var i = 0; i < playerEvents.length; i++) {\n          if (typeof o === 'function') {\n            o.call(window, playerEvents[i], report)\n          } else if (o.on) {\n            o.on(playerEvents[i], report)\n          } else if (o.addEventListener) {\n            o.addEventListener(playerEvents[i], report)\n          } else if (o.addEventHandler) {\n            o.addEventHandler(playerEvents[i], report)\n          } else {\n            Log.warn('debugCommonVideoEvents: No common listener function found for ', o)\n          }\n        }\n      }\n    } catch (err) {\n      Log.warn(err)\n    }\n  }\n}\n\n/**\n * Enum for log levels\n * @enum {integer}\n * @static\n * @var\n */\nLog.Levels = {\n    /** No console outputs */\n  SILENT: 5,\n    /** Console will show errors */\n  ERROR: 4,\n    /** Console will show warnings */\n  WARNING: 3,\n    /** Console will show notices (ie: life-cyrcle logs) */\n  NOTICE: 2,\n    /** Console will show debug messages. */\n  DEBUG: 1,\n    /** Show all messages. */\n  ALL: 0\n}\n\n  /**\n   * Only logs of this imporance or higher will be shown.\n   * @example Log.level = Log.Levels.ALL\n   * @default Log.Levels.ERROR\n   * @static\n   */\nLog.level = Log.Levels.ERROR\n\n  /**\n   * If true, logs will be outputed with colors.\n   * @default true\n   * @static\n   */\nLog.colorful = true\n\n  /**\n   * If true, logs will include the time mark.\n   * @default true\n   * @static\n   */\nLog.includeTime = true\n\n  /**\n   * Prefix included at the start of every log.\n   * @default '[New Relic]'\n   * @static\n   */\nLog.prefix = '[nrvideo]'\n\n// PRIVATE MEMBERS\n\n/**\n * Returns a console message\n *\n * @private\n * @param {array} msg Message array, error object or array of messages.\n * @param {Log.Level} [level=Log.Levels.NOTICE] Defines the level of the error sent.\n * Only errors with higher or equal level than Log.logLevel will be displayed.\n * @param {string} [color='darkgreen'] Color of the header\n * @see {@link Log.level}\n */\nfunction _report (msg, level, color) {\n  level = level || Log.Levels.NOTICE\n  color = color || 'darkcyan'\n\n  var prefix = Log.prefix\n  if (Log.includeTime) prefix += _getCurrentTime() + ' '\n  prefix += _level2letter(level) + ':'\n\n  // Show messages in actual console if level is enought\n  if (Log.level <= level && level !== Log.Levels.SILENT) {\n    if (!Log.colorful || (typeof document !== 'undefined' && document.documentMode)) {\n      // document.documentMode exits only in IE\n      _plainReport(msg, prefix)\n    } else {\n      // choose log method\n      var logMethod\n      if (level === Log.Levels.ERROR && console.error) {\n        logMethod = console.error\n      } else if (level === Log.Levels.WARNING && console.warn) {\n        logMethod = console.warn\n      } else if (level === Log.Levels.DEBUG && console.debug) {\n        // NOTE: for some reason console.debug doesn't work on CAF Receivers.\n        if (window.cast == undefined) {\n          logMethod = console.debug\n        } else {\n          logMethod = console.log\n        }\n      } else {\n        logMethod = console.log\n      }\n\n      // print message\n      prefix = '%c' + prefix\n      msg.splice(0, 0, prefix, 'color: ' + color)\n      logMethod.apply(console, msg)\n    }\n  }\n}\n\n/**\n * Returns the current time in format hh:mm:ss.mmm (with trailing 0s)\n * @private\n * @return {string} Current time.\n */\nfunction _getCurrentTime () {\n  var d = new Date()\n  var hh = ('0' + d.getDate()).slice(-2)\n  var mm = ('0' + d.getMinutes()).slice(-2)\n  var ss = ('0' + d.getSeconds()).slice(-2)\n  var mmm = ('00' + d.getMilliseconds()).slice(-3)\n  return '[' + hh + ':' + mm + ':' + ss + '.' + mmm + ']'\n}\n\n/**\n * Returns a console message without style\n *\n * @private\n * @param {(string|object|array)} msg Message string, object or array of messages.\n * @param {string} prefix Prefix of the message.\n */\nfunction _plainReport (msg, prefix) {\n  if (msg instanceof Array) {\n    for (var m in msg) {\n      _plainReport(msg[m], prefix)\n    }\n  } else {\n    if (typeof msg === 'string') {\n      console.log(prefix + ' ' + msg)\n    } else {\n      console.log(prefix + '')\n      console.log(msg)\n    }\n  }\n}\n\nconst _letters = {\n  4: 'e', // Error\n  3: 'w', // Warning\n  2: 'n', // Notice\n  1: 'd' // Debug\n}\n\n/**\n * Transforms a level to a letter to identify every message.\n *\n * @private\n * @param {sLog.Level} level Level of the message\n */\nfunction _level2letter (level) {\n  return _letters[level]\n}\n\n/**\n * This function is automatically executed at load.\n * Will search inside window.location.search for attribute 'nrvideo-debug=X'.\n * X can have one of these values, that will modify Log.Levels.\n * 5: SILENT,\n * 4: ERROR,\n * 3: WARNING,\n * 2: NOTICE,\n * 1: DEBUG,\n *\n * If nrvideo-colors=false is present, Log.colorful will be set to false.\n *\n * @private\n */\nfunction _loadLevelFromUrl () {\n  if (typeof window !== 'undefined' && window.location && window.location.search) {\n    var m = /\\?.*&*nrvideo-debug=(.+)/i.exec(window.location.search)\n    if (m !== null) {\n      if (m[1] === 'true') {\n        Log.level = Log.Levels.ALL\n      } else {\n        Log.level = m[1]\n      }\n    }\n\n    var m2 = /\\?.*&*nrvideo-colors=false/i.exec(window.location.search)\n    if (m2 !== null) {\n      Log.colorful = false\n    }\n  }\n}\n\n// Execute load level\n_loadLevelFromUrl()\n\nexport default Log\n","import Backend from '../backend'\nimport Log from '../log'\n\n/**\n * Implements a New Relic Insights API backend. For a description of what is a Backend, see {@link Backend}.\n * It must be initialized using a New Relic Account ID and an Insights API insert key.\n *\n * @example\n * let backend = new nrvideo.NRInsightsBackend(\"ACCOUNT ID\", \"API KEY\")\n * nrvideo.Core.setBackend(backend)\n *\n * @extends Backend\n */\nclass NRInsightsBackend extends Backend {\n    /**\n     * Constructor, receives account ID, API Key and (optionally) an event type.\n     *\n     * @param {String} [accountId] Insights Account ID.\n     * @param {String} [apiKey] Insights API Key.\n     * @param {String} [eventType] Insights event type. Default 'BrowserVideo'.\n     */\n    constructor(accountId, apiKey, eventType = 'BrowserVideo') {\n        super()\n\n        /**\n         * Insights account ID.\n         * @private\n         */\n        this._accountId = accountId\n\n        /**\n         * Insights API Key.\n         * @private\n         */\n        this._apiKey = apiKey\n\n        /**\n         * Insights event type.\n         * @private\n         */\n        this._eventType = eventType\n\n        /**\n         * Buffer to store events.\n         * @private\n         */\n        this._eventBuffer = []\n\n        /**\n         * Harvest timer lock.\n         * @private\n         */\n        this._harvestLocked = false\n\n        /**\n         * Last timestamp.\n         * @private\n         */\n        this._lastTimestamp = 0\n\n        // Define harvest timer handler\n        setInterval(() => { this.harvestHandler(NRInsightsBackend.Source.TIMER) }, 10000)\n    }\n\n    send(event, data) {\n        super.send(event, data)\n        if (this._eventBuffer.length < 500) {\n            data = this.generateAttributes(data)\n            data['eventType'] = this._eventType\n            data['actionName'] = event\n            // Mechanism to avoid having two events with the same timestamp\n            let timestamp = Date.now()\n            if (timestamp > this._lastTimestamp) {\n                data['timestamp'] = timestamp\n                this._lastTimestamp = timestamp\n            }\n            else {\n                this._lastTimestamp ++\n                data['timestamp'] = this._lastTimestamp\n            }\n            this._eventBuffer.push(data)\n        }\n    }\n\n    generateAttributes(data) {\n        data['pageUrl'] = window.location.href\n        data['currentUrl'] = window.location.origin + window.location.pathname\n        data['referrerUrl'] = document.referrer\n\n        let OSName = \"Unknown\"\n        if (navigator.userAgent.indexOf(\"Win\") != -1) OSName = \"Windows\"\n        else if (navigator.userAgent.indexOf(\"Android\") != -1) OSName = \"Android\"\n        else if (navigator.userAgent.indexOf(\"Mac\") != -1) OSName = \"Mac\"\n        else if (navigator.userAgent.match(/iPhone|iPad|iPod/i)) OSName = \"iOS\"\n        else if (navigator.userAgent.indexOf(\"Linux\") != -1) OSName = \"Linux\"\n        else if (navigator.userAgent.indexOf(\"X11\") != -1) OSName = \"UNIX\"\n        data['userAgentOS'] = OSName\n\n        let agentName = \"Unknown\"\n        if (navigator.userAgent.indexOf(\"Chrome\") != -1 ) agentName = \"Chrome\"\n        else if (navigator.userAgent.indexOf(\"Firefox\") != -1 ) agentName = \"Firefox\"\n        else if (navigator.userAgent.indexOf(\"MSIE\") != -1 ) agentName = \"IE\"\n        else if (navigator.userAgent.indexOf(\"Edge\") != -1 ) agentName = \"Microsoft Edge\"\n        else if (navigator.userAgent.indexOf(\"Safari\") != -1 ) agentName = \"Safari\"\n        else if (navigator.userAgent.indexOf(\"Opera\") != -1 ) agentName = \"Opera\"\n        data['userAgentName'] = agentName\n\n        let deviceType = \"Unknown\"\n        if (navigator.userAgent.match(/Tablet|iPad/i)) deviceType = \"Tablet\"\n        else if (navigator.userAgent.match(/Mobile|Windows Phone|Lumia|Android|webOS|iPhone|iPod|Blackberry|PlayBook|BB10|Opera Mini|\\bCrMo\\/|Opera Mobi/i)) deviceType = \"Mobile\"\n        else if (window.cast != undefined) deviceType = \"Cast\"\n        else deviceType = \"Desktop\"\n        data['deviceType'] = deviceType\n\n        return data\n    }\n\n    harvestHandler(source) {\n        if (source == NRInsightsBackend.Source.TIMER && this._harvestLocked) {\n            Log.debug(\"Harvest still locked, abort\")\n            return\n        }\n\n        this._harvestLocked = true\n\n        if (this._eventBuffer.length > 0) {\n            Log.debug(\"Push events to Insights = \", this._eventBuffer)\n            this.pushEventToInsights(this._eventBuffer.pop())\n        }\n        else {\n            this._harvestLocked = false\n        }\n    }\n\n    pushEventToInsights(ev) {\n        const requestOptions = {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json', 'X-Insert-Key': this._apiKey },\n            body: JSON.stringify(ev)\n        }\n\n        const url = \"https://insights-collector.newrelic.com/v1/accounts/\" + this._accountId + \"/events\"\n        fetch(url, requestOptions)\n            .then(response => response.json())\n            .then(data => this.insightsRequestResponse(data))\n            .catch((error) => {\n                Log.error('Error:', error, ev);\n                // Put back the event and abort current fetch process\n                this._eventBuffer.push(ev)\n                this._harvestLocked = false\n            });\n    }\n\n    insightsRequestResponse(data) {\n        // Send next event\n        this.harvestHandler(NRInsightsBackend.Source.FETCH)\n    }\n}\n\nNRInsightsBackend.Source = {\n    TIMER: \"TIMER\",\n    FETCH: \"FETCH\"\n}\n\nexport default NRInsightsBackend\n","import * as pkg from '../package.json'\nimport Emitter from './emitter'\nimport Chrono from './chrono'\n\n/**\n * Tracker class provides the basic logic to extend Newrelic's Browser Agent capabilities.\n * Trackers are designed to listen third party elements (like video tags, banners, etc.) and send\n * information over to Browser Agent. Extend this class to create your own tracker, override\n * registerListeners and unregisterListeners for full coverage!\n *\n * @example\n * Tracker instances should be added to Core library to start sending data:\n * nrvideo.Core.addTracker(new Tracker())\n *\n * @extends Emitter\n */\nclass Tracker extends Emitter {\n  /**\n   * Constructor, receives options. You should call {@see registerListeners} after this.\n   *\n   * @param {Object} [options] Options for the tracker. See {@link setOptions}.\n   */\n  constructor (options) {\n    super()\n\n    /**\n     * If you add something to this custom dictionary it will be added to every action. If you set\n     * any value, it will always override the values returned by the getters.\n     *\n     * @example\n     * If you define tracker.customData.contentTitle = 'a' and tracker.getTitle() returns 'b'.\n     * 'a' will prevail.\n     */\n    this.customData = {}\n\n    /**\n     * Set time between hearbeats, in ms.\n     */\n    this.heartbeat = null\n\n    /**\n     * Another Tracker instance. Useful to relate ad Trackers to their parent content Trackers.\n     * @type Tracker\n     */\n    this.parentTracker = null\n\n    /**\n     * Chrono that counts time since this class was instantiated.\n     * @private\n     */\n    this._trackerReadyChrono = new Chrono()\n    this._trackerReadyChrono.start()\n\n    options = options || {}\n    this.setOptions(options)\n  }\n\n  /**\n   * Set options for the Tracker.\n   *\n   * @param {Object} [options] Options for the tracker.\n   * @param {number} [options.heartbeat] Set time between heartbeats. See {@link heartbeat}.\n   * @param {Object} [options.customData] Set custom data. See {@link customData}.\n   * @param {Tracker} [options.parentTracker] Set parent tracker. See {@link parentTracker}.\n   */\n  setOptions (options) {\n    if (options) {\n      if (options.parentTracker) this.parentTracker = options.parentTracker\n      if (options.customData) this.customData = options.customData\n      if (options.heartbeat) this.heartbeat = options.heartbeat\n    }\n  }\n\n  /**\n   * Prepares tracker to dispose. Calls {@see unregisterListeners} and drops references.\n   */\n  dispose () {\n    this.unregisterListeners()\n  }\n\n  /**\n   * Override this method to register listeners to third party elements.\n   *\n   * @example\n   * class SpecificTracker extends Tracker {\n   *  registerListeners() {\n   *    this.player.on('play', () => this.playHandler)\n   *  }\n   *\n   *  playHandler() {\n   *    this.emit(Tracker.Events.REQUESTED)\n   *  }\n   * }\n   */\n  registerListeners () {}\n\n  /**\n   * Override this method to unregister listeners to third party elements created with\n   * {@see registerListeners}.\n   *\n   * @example\n   * class SpecificTracker extends Tracker {\n   *  registerListeners() {\n   *    this.player.on('play', () => this.playHandler)\n   *  }\n   *\n   *  unregisterListeners() {\n   *    this.player.off('play', () => this.playHandler)\n   *  }\n   *\n   *  playHandler() {\n   *    this.emit(Tracker.Events.REQUESTED)\n   *  }\n   * }\n   */\n  unregisterListeners () {}\n\n  /**\n   * Returns heartbeat time interval. 30000 (30s) if not set. See {@link setOptions}.\n   * @return {number} Heartbeat interval in ms.\n   * @final\n   */\n  getHeartbeat () {\n    if (this.heartbeat) {\n      return this.heartbeat\n    } else if (this.parentTracker && this.parentTracker.heartbeat) {\n      return this.parentTracker.heartbeat\n    } else {\n      return 30000\n    }\n  }\n\n  /**\n   * Starts heartbeating. Interval period set by options.heartbeat. Min 5000 ms.\n   * This method is automaticaly called by the tracker once sendRequest is called.\n   */\n  startHeartbeat () {\n    this._heartbeatInterval = setInterval(\n      this.sendHeartbeat.bind(this),\n      Math.max(this.getHeartbeat(), 5000)\n    )\n  }\n\n  /**\n   * Stops heartbeating. This method is automaticaly called by the tracker.\n   */\n  stopHeartbeat () {\n    if (this._heartbeatInterval) {\n      clearInterval(this._heartbeatInterval)\n    }\n  }\n\n  /**\n   * Heartbeating allows you to call this function each X milliseconds, defined by\n   * {@link getHeartbeat}. This is useful to send regular events to track changes.\n   *\n   * By default it will send {@link Tracker.Events.HEARTBEAT}.\n   * To start heartbeating use {@link startHeartbeat} and to stop them use {@link stopHeartbeat}.\n   *\n   * @example\n   * Override this method to define your own Heartbeat reporting.\n   *\n   * class TrackerChild extends Tracker {\n   *  sendHeartbeat (att) {\n   *    this.send('MY_HEARBEAT_EVENT')\n   *  }\n   * }\n   *\n   * @param {Object} [att] Collection of key:value attributes to send with the request.\n   */\n  sendHeartbeat (att) {\n    this.send(Tracker.Events.HEARTBEAT, att)\n  }\n\n  /**\n   * Override this method to return attributes for actions.\n   *\n   * @example\n   * class SpecificTracker extends Tracker {\n   *  getAttributes(att) {\n   *    att = att || {}\n   *    att.information = 'something'\n   *    return att\n   *  }\n   * }\n   *\n   * @param {object} [att] Collection of key value attributes\n   * @return {object} Filled attributes\n   * @final\n   */\n  getAttributes (att) {\n    att = att || {}\n    att.trackerName = this.getTrackerName()\n    att.trackerVersion = this.getTrackerVersion()\n    att.coreVersion = pkg.version\n    att.timeSinceTrackerReady = this._trackerReadyChrono.getDeltaTime()\n\n    for (let key in this.customData) {\n      att[key] = this.customData[key]\n    }\n\n    if (document.hidden != undefined) {\n      att.isBackgroundEvent = document.hidden\n    }\n\n    return att\n  }\n\n  /** Override to change of the Version of tracker. ie: '1.0.1' */\n  getTrackerVersion () {\n    return pkg.version\n  }\n\n  /** Override to change of the Name of the tracker. ie: 'custom-html5' */\n  getTrackerName () {\n    return 'base-tracker'\n  }\n\n  /**\n   * Send given event. Will automatically call {@see getAttributes} to fill information.\n   * Internally, this will call {@see Emitter#emit}, so you could listen any event fired.\n   *\n   * @example\n   * tracker.send('BANNER_CLICK', { url: 'http....' })\n   *\n   * @param {string} event Event name\n   * @param {object} [att] Key:value dictionary filled with attributes.\n   */\n  send (event, att) {\n    this.emit(event, this.getAttributes(att))\n  }\n}\n\n/**\n * Enumeration of events fired by this class.\n *\n * @static\n * @memberof Tracker\n * @enum {string}\n */\nTracker.Events = {\n  /** The heartbeat event is sent once every 30 seconds while the video is playing. */\n  HEARTBEAT: 'HEARTBEAT'\n}\n\nexport default Tracker\n","import Log from './log'\nimport Tracker from './tracker'\nimport TrackerState from './videotrackerstate'\n\n/**\n * Base video tracker class provides extensible tracking over video elements. See {@link Tracker}.\n * Extend this class to create your own video tracker class. Override getter methods and\n * registerListeners/unregisterListeners to provide full integration with your video experience.\n *\n * @example\n * Tracker instances should be added to Core library to start sending data:\n * nrvideo.Core.addTracker(new Tracker())\n *\n * @extends Tracker\n */\nclass VideoTracker extends Tracker {\n  /**\n   * Constructor, receives player and options.\n   * Lifecycle: constructor > {@link setOptions} > {@link setPlayer} > {@link registerListeners}.\n   *\n   * @param {Object} [player] Player to track. See {@link setPlayer}.\n   * @param {Object} [options] Options for the tracker. See {@link setOptions}.\n   */\n  constructor (player, options) {\n    super()\n\n    /**\n     * TrackerState instance. Stores the state of the view. Tracker will automatically update the\n     * state of its instance, so there's no need to modify/interact with it manually.\n     * @type TrackerState\n     */\n    this.state = new TrackerState()\n\n    /**\n     * Another Tracker instance to track ads.\n     * @type Tracker\n     */\n    this.adsTracker = null\n\n    /**\n     * Last bufferType value.\n     * @private\n     */\n    this._lastBufferType = null\n\n    options = options || {}\n    this.setOptions(options)\n    if (player) this.setPlayer(player, options.tag)\n\n    Log.notice('Tracker ' + this.getTrackerName() + ' v' + this.getTrackerVersion() + ' is ready.')\n  }\n\n  /**\n   * Set options for the Tracker.\n   *\n   * @param {Object} [options] Options for the tracker.\n   * @param {Boolean} [options.isAd] True if the tracker is tracking ads. See {@link setIsAd}.\n   * @param {number} [options.heartbeat] Set time between heartbeats. See {@link heartbeat}.\n   * @param {Object} [options.customData] Set custom data. See {@link customData}.\n   * @param {Tracker} [options.parentTracker] Set parent tracker. See {@link parentTracker}.\n   * @param {Tracker} [options.adsTracker] Set ads tracker. See {@link adsTracker}.\n   * @param {Object} [options.tag] DOM element to track. See {@link setPlayer}.\n   */\n  setOptions (options) {\n    if (options) {\n      if (options.adsTracker) this.setAdsTracker(options.adsTracker)\n      if (typeof options.isAd === 'boolean') this.setIsAd(options.isAd)\n      Tracker.prototype.setOptions.apply(this, arguments)\n    }\n  }\n\n  /**\n   * Set a player and/or a tag. If there was one already defined, it will call dispose() first.\n   * Will call this.registerListeners() afterwards.\n   *\n   * @param {Object|string} player New player to save as this.player. If a string is passed,\n   * document.getElementById will be called.\n   * @param {DOMObject|string} [tag] Optional DOMElement to save as this.tag. If a string is passed,\n   * document.getElementById will be called.\n   */\n  setPlayer (player, tag) {\n    if (this.player || this.tag) this.dispose()\n\n    if (typeof document !== 'undefined' && document.getElementById) {\n      if (typeof player === 'string') player = document.getElementById(player)\n      if (typeof tag === 'string') tag = document.getElementById(tag)\n    }\n\n    tag = tag || player // if no tag is passed, use player as both.\n\n    this.player = player\n    this.tag = tag\n    this.registerListeners()\n  }\n\n  /** Returns true if the tracker is currently on ads. */\n  isAd () {\n    return this.state.isAd()\n  }\n\n  /** Sets if the tracker is currenlty tracking ads */\n  setIsAd (isAd) {\n    this.state.setIsAd(isAd)\n  }\n\n  /**\n   * Use this function to set up a child ad tracker. You will be able to access it using\n   * this.adsTracker.\n   *\n   * @param {Tracker} tracker Ad tracker to add\n   */\n  setAdsTracker (tracker) {\n    this.disposeAdsTracker() // dispose current one\n    if (tracker) {\n      this.adsTracker = tracker\n      this.adsTracker.setIsAd(true)\n      this.adsTracker.parentTracker = this\n      this.adsTracker.on('*', funnelAdEvents.bind(this))\n    }\n  }\n\n  /**\n   * Dispose current adsTracker.\n   */\n  disposeAdsTracker () {\n    if (this.adsTracker) {\n      this.adsTracker.off('*', funnelAdEvents)\n      this.adsTracker.dispose()\n    }\n  }\n\n  /**\n   * Prepares tracker to dispose. Calls unregisterListener and drops references to player and tag.\n   */\n  dispose () {\n    this.stopHeartbeat()\n    this.disposeAdsTracker()\n    this.unregisterListeners()\n    this.player = null\n    this.tag = null\n  }\n\n  /**\n   * Override this method to register listeners to player/tag.\n   * @example\n   * class SpecificTracker extends Tracker {\n   *  registerListeners() {\n   *    this.player.on('play', () => this.playHandler)\n   *  }\n   *\n   *  playHandler() {\n   *    this.send(VideoTracker.Events.REQUESTED)\n   *  }\n   * }\n   */\n  registerListeners () { }\n\n  /**\n   * Override this method to unregister listeners to player/tag created in registerListeners\n   * @example\n   * class SpecificTracker extends Tracker {\n   *  registerListeners() {\n   *    this.player.on('play', () => this.playHandler)\n   *  }\n   *\n   *  unregisterListeners() {\n   *    this.player.off('play', () => this.playHandler)\n   *  }\n   *\n   *  playHandler() {\n   *    this.send(VideoTracker.Events.REQUESTED)\n   *  }\n   * }\n   */\n  unregisterListeners () { }\n\n  /**\n   * Trackers will generate unique id's for every new video iteration. If you have your own unique\n   * view value, you can override this method to return it.\n   * If the tracker has a parentTracker defined, parent viewId will be used.\n   */\n  getViewId () {\n    if (this.parentTracker) {\n      return this.parentTracker.getViewId()\n    } else {\n      return this.state.getViewId()\n    }\n  }\n\n  /**\n   * Trackers will generate unique id's for every new video session. If you have your own unique\n   * view value, you can override this method to return it.\n   * If the tracker has a parentTracker defined, parent viewId will be used.\n   */\n  getViewSession () {\n    if (this.parentTracker) {\n      return this.parentTracker.getViewSession()\n    } else {\n      return this.state.getViewSession()\n    }\n  }\n\n  /** Override to return the Id of the video. */\n  getVideoId () {\n    return null\n  }\n\n  /** Override to return Title of the video. */\n  getTitle () {\n    return null\n  }\n\n  /** Override to return True if the video is live. */\n  isLive () {\n    return null\n  }\n\n  /** Override to return Bitrate (in bits) of the video. */\n  getBitrate () {\n    return null\n  }\n\n  /** Calculates consumed bitrate using webkitVideoDecodedByteCount. */\n  getWebkitBitrate () {\n    if (this.tag && this.tag.webkitVideoDecodedByteCount) {\n      let bitrate\n      if (this._lastWebkitBitrate) {\n        bitrate = this.tag.webkitVideoDecodedByteCount\n        let delta = bitrate - this._lastWebkitBitrate\n        let seconds = this.getHeartbeat() / 1000\n        bitrate = Math.round((delta / seconds) * 8)\n      }\n      this._lastWebkitBitrate = this.tag.webkitVideoDecodedByteCount\n      return bitrate || null\n    }\n  }\n\n  /** Override to return Name of the rendition (ie: 1080p). */\n  getRenditionName () {\n    return null\n  }\n\n  /** Override to return Target Bitrate of the rendition. */\n  getRenditionBitrate () {\n    return null\n  }\n\n  /**\n   * This method will return 'up', 'down' or null depending on if the bitrate of the rendition\n   * have changed from the last time it was called.\n   *\n   * @param {boolean} [saveNewRendition=false] If true, current rendition will be stored to be used\n   * the next time this method is called. This allows you to call this.getRenditionShift() without\n   * saving the current rendition and thus preventing interferences with RENDITION_CHANGE events.\n   */\n  getRenditionShift (saveNewRendition) {\n    let current = this.getRenditionBitrate()\n    let last\n    if (this.isAd()) {\n      last = this._lastAdRendition\n      if (saveNewRendition) this._lastAdRendition = current\n    } else {\n      last = this._lastRendition\n      if (saveNewRendition) this._lastRendition = current\n    }\n\n    if (!current || !last) {\n      return null\n    } else {\n      if (current > last) {\n        return 'up'\n      } else if (current < last) {\n        return 'down'\n      } else {\n        return null\n      }\n    }\n  }\n\n  /** Override to return renidtion actual Height (before re-scaling). */\n  getRenditionHeight () {\n    return this.tag ? this.tag.videoHeight : null\n  }\n\n  /** Override to return rendition actual Width (before re-scaling). */\n  getRenditionWidth () {\n    return this.tag ? this.tag.videoWidth : null\n  }\n\n  /** Override to return Duration of the video, in ms. */\n  getDuration () {\n    return this.tag ? this.tag.duration : null\n  }\n\n  /** Override to return Playhead (currentTime) of the video, in ms. */\n  getPlayhead () {\n    return this.tag ? this.tag.currentTime : null\n  }\n\n  /**\n   * Override to return Language of the video. We recommend using locale notation, ie: en_US.\n   * {@see https://gist.github.com/jacobbubu/1836273}\n   */\n  getLanguage () {\n    return null\n  }\n\n  /** Override to return URL of the resource being played. */\n  getSrc () {\n    return this.tag ? this.tag.currentSrc : null\n  }\n\n  /** Override to return Playrate (speed) of the video. ie: 1.0, 0.5, 1.25... */\n  getPlayrate () {\n    return this.tag ? this.tag.playbackRate : null\n  }\n\n  /** Override to return True if the video is currently muted. */\n  isMuted () {\n    return this.tag ? this.tag.muted : null\n  }\n\n  /** Override to return True if the video is currently fullscreen. */\n  isFullscreen () {\n    return null\n  }\n\n  /** Override to return the CDN serving the content. */\n  getCdn () {\n    return null\n  }\n\n  /** Override to return the Name of the player. */\n  getPlayerName () {\n    return this.getTrackerName()\n  }\n\n  /** Override to return the Version of the player. */\n  getPlayerVersion () {\n    return null\n  }\n\n  /** Override to return current FPS (Frames per second). */\n  getFps () {\n    return null\n  }\n\n  /**\n   * Override to return if the player was autoplayed. By default: this.tag.autoplay\n   */\n  isAutoplayed () {\n    return this.tag ? this.tag.autoplay : null\n  }\n\n  /**\n   * Override to return the player preload attribute. By default: this.tag.preload\n   */\n  getPreload () {\n    return this.tag ? this.tag.preload : null\n  }\n\n  // Only for ads\n  /**\n   * Override to return Quartile of the ad. 0 before first, 1 after first quartile, 2 after\n   * midpoint, 3 after third quartile, 4 when completed.\n   */\n  getAdQuartile () {\n    return null\n  }\n\n  /**\n   * Override to return the position of the ad. Use {@link Constants.AdPositions} enum\n   * to fill this data.\n   */\n  getAdPosition () {\n    if (this.parentTracker) {\n      return this.parentTracker.state.isStarted ? 'mid' : 'pre'\n    }\n    else {\n      return null\n    }\n  }\n\n  /**\n   * Override to return the ad partner. ie: ima, freewheel...\n   */\n  getAdPartner () {\n    return null\n  }\n\n  /**\n   * Override to return the creative id of the ad.\n   */\n  getAdCreativeId () {\n    return null\n  }\n\n  /**\n   * Do NOT override. This method fills all the appropiate attributes for tracked video.\n   *\n   * @param {object} [att] Collection of key value attributes\n   * @return {object} Filled attributes\n   * @final\n   */\n  getAttributes (att) {\n    att = Tracker.prototype.getAttributes.apply(this, arguments)\n\n    if (typeof att.isAd === 'undefined') att.isAd = this.isAd()\n    att.viewSession = this.getViewSession()\n    att.viewId = this.getViewId()\n    att.playerName = this.getPlayerName()\n    att.playerVersion = this.getPlayerVersion()\n\n    try {\n      att.pageUrl = window.location.href\n    } catch (err) { /* skip */ }\n\n    if (this.isAd()) { // Ads\n      att.adId = this.getVideoId()\n      att.adTitle = this.getTitle()\n      att.adBitrate = this.getBitrate() || this.getWebkitBitrate()\n      att.adRenditionName = this.getRenditionName()\n      att.adRenditionBitrate = this.getRenditionBitrate()\n      att.adRenditionHeight = this.getRenditionHeight()\n      att.adRenditionWidth = this.getRenditionWidth()\n      att.adDuration = this.getDuration()\n      att.adPlayhead = this.getPlayhead()\n      att.adLanguage = this.getLanguage()\n      att.adSrc = this.getSrc()\n      att.adCdn = this.getCdn()\n      att.adIsMuted = this.isMuted()\n      att.adFps = this.getFps()\n      // ad exclusives\n      att.adQuartile = this.getAdQuartile()\n      att.adPosition = this.getAdPosition()\n      att.adCreativeId = this.getAdCreativeId()\n      att.adPartner = this.getAdPartner()\n    } else { // no ads\n      att.contentId = this.getVideoId()\n      att.contentTitle = this.getTitle()\n      att.contentIsLive = this.isLive()\n      att.contentBitrate = this.getBitrate() || this.getWebkitBitrate()\n      att.contentRenditionName = this.getRenditionName()\n      att.contentRenditionBitrate = this.getRenditionBitrate()\n      att.contentRenditionHeight = this.getRenditionHeight()\n      att.contentRenditionWidth = this.getRenditionWidth()\n      att.contentDuration = this.getDuration()\n      att.contentPlayhead = this.getPlayhead()\n      att.contentLanguage = this.getLanguage()\n      att.contentSrc = this.getSrc()\n      att.contentPlayrate = this.getPlayrate()\n      att.contentIsFullscreen = this.isFullscreen()\n      att.contentIsMuted = this.isMuted()\n      att.contentCdn = this.getCdn()\n      att.contentIsAutoplayed = this.isAutoplayed()\n      att.contentPreload = this.getPreload()\n      att.contentFps = this.getFps()\n      if (this.adsTracker != null && this.adsTracker.state.totalAdPlaytime > 0) {\n        att.totalAdPlaytime = this.adsTracker.state.totalAdPlaytime;\n      }\n    }\n\n    this.state.getStateAttributes(att)\n\n    for (let key in this.customData) {\n      att[key] = this.customData[key]\n    }\n\n    return att\n  }\n\n  /**\n   * Sends custom event and registers a timeSince attribute.\n   * @param {Object} [actionName] Custom action name.\n   * @param {Object} [timeSinceAttName] Custom timeSince attribute name.\n   * @param {Object} [att] Collection of key:value attributes to send with the request.\n   */\n  sendCustom (actionName, timeSinceAttName, att) {\n    att = att || {}\n    this.send(actionName, att)\n    this.state.setTimeSinceAttribute(timeSinceAttName)\n  }\n\n  /**\n   * Sends associated event and changes view state. An internal state machine will prevent\n   * duplicated events. Should be associated to an event using registerListeners.\n   * @param {Object} [att] Collection of key:value attributes to send with the request.\n   */\n  sendPlayerReady (att) {\n    if (this.state.goPlayerReady()) {\n      att = att || {}\n      this.send(VideoTracker.Events.PLAYER_READY, att)\n    }\n  }\n\n  /**\n   * Sends associated event and changes view state. An internal state machine will prevent\n   * duplicated events. Should be associated to an event using registerListeners. Calls\n   * {@link startHeartbeat}.\n   * @param {Object} [att] Collection of key:value attributes to send with the request.\n   */\n  sendRequest (att) {\n    if (this.state.goRequest()) {\n      this.state.goViewCountUp()\n      let ev = this.isAd() ? VideoTracker.Events.AD_REQUEST : VideoTracker.Events.CONTENT_REQUEST\n      this.send(ev, att)\n      this.startHeartbeat()\n      this.state.goHeartbeat()\n    }\n  }\n\n  /**\n   * Sends associated event and changes view state. An internal state machine will prevent\n   * duplicated events. Should be associated to an event using registerListeners.\n   * @param {Object} [att] Collection of key:value attributes to send with the request.\n   */\n  sendStart (att) {\n    if (this.state.goStart()) {\n      let ev\n      if (this.isAd()) {\n        ev = VideoTracker.Events.AD_START\n        if (this.parentTracker) this.parentTracker.state.isPlaying = false\n      } else {\n        ev = VideoTracker.Events.CONTENT_START\n      }\n      this.send(ev, att)\n    }\n  }\n\n  /**\n   * Sends associated event and changes view state. An internal state machine will prevent\n   * duplicated events. Should be associated to an event using registerListeners. Calls\n   * {@link stopHeartbeat}.\n   * @param {Object} [att] Collection of key:value attributes to send with the request.\n   */\n  sendEnd (att) {\n    if (this.state.goEnd()) {\n      att = att || {}\n      let ev\n      if (this.isAd()) {\n        ev = VideoTracker.Events.AD_END\n        att.timeSinceAdRequested = this.state.timeSinceRequested.getDeltaTime()\n        att.timeSinceAdStarted = this.state.timeSinceStarted.getDeltaTime()\n        if (this.parentTracker) this.parentTracker.state.isPlaying = true\n      } else {\n        ev = VideoTracker.Events.CONTENT_END\n        att.timeSinceRequested = this.state.timeSinceRequested.getDeltaTime()\n        att.timeSinceStarted = this.state.timeSinceStarted.getDeltaTime()\n      }\n      this.stopHeartbeat()\n      this.send(ev, att)\n      if (this.parentTracker && this.isAd()) this.parentTracker.state.goLastAd()\n      this.state.goViewCountUp()\n      this.state.totalPlaytime = 0\n    }\n  }\n\n  /**\n   * Sends associated event and changes view state. An internal state machine will prevent\n   * duplicated events. Should be associated to an event using registerListeners.\n   * @param {Object} [att] Collection of key:value attributes to send with the request.\n   */\n  sendPause (att) {\n    if (this.state.goPause()) {\n      let ev = this.isAd() ? VideoTracker.Events.AD_PAUSE : VideoTracker.Events.CONTENT_PAUSE\n      this.send(ev, att)\n    }\n  }\n\n  /**\n   * Sends associated event and changes view state. An internal state machine will prevent\n   * duplicated events. Should be associated to an event using registerListeners.\n   * @param {Object} [att] Collection of key:value attributes to send with the request.\n   */\n  sendResume (att) {\n    if (this.state.goResume()) {\n      att = att || {}\n      let ev\n      if (this.isAd()) {\n        ev = VideoTracker.Events.AD_RESUME\n        att.timeSinceAdPaused = this.state.timeSincePaused.getDeltaTime()\n      } else {\n        ev = VideoTracker.Events.CONTENT_RESUME\n        att.timeSincePaused = this.state.timeSincePaused.getDeltaTime()\n      }\n      this.send(ev, att)\n    }\n  }\n\n  /**\n   * Sends associated event and changes view state. An internal state machine will prevent\n   * duplicated events. Should be associated to an event using registerListeners.\n   * @param {Object} [att] Collection of key:value attributes to send with the request.\n   */\n  sendBufferStart (att) {\n    if (this.state.goBufferStart()) {\n      att = att || {}\n      let ev\n      if (this.isAd()) {\n        ev = VideoTracker.Events.AD_BUFFER_START\n      } else {\n        ev = VideoTracker.Events.CONTENT_BUFFER_START\n      }\n\n      att = this.buildBufferAttributes(att)\n      this._lastBufferType = att.bufferType\n      \n      this.send(ev, att)\n    }\n  }\n\n  /**\n   * Sends associated event and changes view state. An internal state machine will prevent\n   * duplicated events. Should be associated to an event using registerListeners.\n   * @param {Object} [att] Collection of key:value attributes to send with the request.\n   */\n  sendBufferEnd (att) {\n    if (this.state.goBufferEnd()) {\n      att = att || {}\n      let ev\n      if (this.isAd()) {\n        ev = VideoTracker.Events.AD_BUFFER_END\n        att.timeSinceAdBufferBegin = this.state.timeSinceBufferBegin.getDeltaTime()\n      } else {\n        ev = VideoTracker.Events.CONTENT_BUFFER_END\n        att.timeSinceBufferBegin = this.state.timeSinceBufferBegin.getDeltaTime()\n      }\n\n      att = this.buildBufferAttributes(att)\n      // Set the bufferType attribute of the last BUFFER_START\n      if (this._lastBufferType != null) {\n        att.bufferType = this._lastBufferType\n      }\n\n      this.send(ev, att)\n      this.state.initialBufferingHappened = true\n    }\n  }\n  \n  buildBufferAttributes(att) {\n    if (att.timeSinceStarted == undefined || att.timeSinceStarted < 100) {\n      att.isInitialBuffering = !this.state.initialBufferingHappened\n    }\n    else {\n      att.isInitialBuffering = false\n    }\n\n    att.bufferType = this.state.calculateBufferType(att.isInitialBuffering)\n    \n    att.timeSinceResumed = this.state.timeSinceResumed.getDeltaTime()\n    att.timeSinceSeekEnd = this.state.timeSinceSeekEnd.getDeltaTime()\n\n    return att\n  }\n\n  /**\n   * Sends associated event and changes view state. An internal state machine will prevent\n   * duplicated events. Should be associated to an event using registerListeners.\n   * @param {Object} [att] Collection of key:value attributes to send with the request.\n   */\n  sendSeekStart (att) {\n    if (this.state.goSeekStart()) {\n      let ev\n      if (this.isAd()) {\n        ev = VideoTracker.Events.AD_SEEK_START\n      } else {\n        ev = VideoTracker.Events.CONTENT_SEEK_START\n      }\n      this.send(ev, att)\n    }\n  }\n\n  /**\n   * Sends associated event and changes view state. An internal state machine will prevent\n   * duplicated events. Should be associated to an event using registerListeners.\n   * @param {Object} [att] Collection of key:value attributes to send with the request.\n   */\n  sendSeekEnd (att) {\n    if (this.state.goSeekEnd()) {\n      att = att || {}\n      let ev\n      if (this.isAd()) {\n        ev = VideoTracker.Events.AD_SEEK_END\n        att.timeSinceAdSeekBegin = this.state.timeSinceSeekBegin.getDeltaTime()\n      } else {\n        ev = VideoTracker.Events.CONTENT_SEEK_END\n        att.timeSinceSeekBegin = this.state.timeSinceSeekBegin.getDeltaTime()\n      }\n      this.send(ev, att)\n    }\n  }\n\n  /**\n   * Sends associated event and changes view state. An internal state machine will prevent\n   * duplicated events. Should be associated to an event using registerListeners.\n   * @param {Object} [att] Collection of key:value attributes to send with the request.\n   * @param {String} att.state Download requires a string to distinguish different states.\n   */\n  sendDownload (att) {\n    att = att || {}\n    if (!att.state) Log.warn('Called sendDownload without { state: xxxxx }.')\n    this.send(VideoTracker.Events.DOWNLOAD, att)\n    this.state.goDownload()\n  }\n\n  /**\n   * Sends associated event and changes view state. An internal state machine will prevent\n   * duplicated events. Should be associated to an event using registerListeners.\n   * @param {Object} [att] Collection of key:value attributes to send with the request.\n   */\n  sendError (att) {\n    att = att || {}\n    att.isAd = true\n    this.state.goError()\n    let ev = this.isAd() ? VideoTracker.Events.AD_ERROR : VideoTracker.Events.CONTENT_ERROR\n    this.send(ev, att)\n  }\n\n  /**\n   * Sends associated event and changes view state. An internal state machine will prevent\n   * duplicated events. Should be associated to an event using registerListeners.\n   * @param {Object} [att] Collection of key:value attributes to send with the request.\n   */\n  sendRenditionChanged (att) {\n    att = att || {}\n    att.timeSinceLastRenditionChange = this.state.timeSinceLastRenditionChange.getDeltaTime()\n    att.shift = this.getRenditionShift(true)\n    let ev\n    if (this.isAd()) {\n      ev = VideoTracker.Events.AD_RENDITION_CHANGE\n    } else {\n      ev = VideoTracker.Events.CONTENT_RENDITION_CHANGE\n    }\n    this.send(ev, att)\n    this.state.goRenditionChange()\n  }\n\n  /**\n   * Sends associated event and changes view state. Heartbeat will automatically be sent every\n   * 10 seconds. There's no need to call this manually.\n   * @param {Object} [att] Collection of key:value attributes to send with the request.\n   * @param {number} att.url Url of the clicked ad.\n   *\n   */\n  sendHeartbeat (att) {\n    if (this.state.isRequested) {\n      let ev\n      if (this.isAd()) {\n        ev = VideoTracker.Events.AD_HEARTBEAT\n      } else {\n        ev = VideoTracker.Events.CONTENT_HEARTBEAT\n      }\n      this.send(ev, att)\n      this.state.goHeartbeat()\n    }\n  }\n\n  // Only ads\n  /**\n   * Sends associated event and changes view state. An internal state machine will prevent\n   * duplicated events. Should be associated to an event using registerListeners.\n   * @param {Object} [att] Collection of key:value attributes to send with the request.\n   */\n  sendAdBreakStart (att) {\n    if (this.isAd() && this.state.goAdBreakStart()) {\n      this.state.totalAdPlaytime = 0;\n      if (this.parentTracker) this.parentTracker.state.isPlaying = false\n      this.send(VideoTracker.Events.AD_BREAK_START, att)\n    }\n  }\n\n  /**\n   * Sends associated event and changes view state. An internal state machine will prevent\n   * duplicated events. Should be associated to an event using registerListeners.\n   * @param {Object} [att] Collection of key:value attributes to send with the request.\n   */\n  sendAdBreakEnd (att) {\n    if (this.isAd() && this.state.goAdBreakEnd()) {\n      att = att || {}\n      att.timeSinceAdBreakBegin = this.state.timeSinceAdBreakStart.getDeltaTime()\n      this.send(VideoTracker.Events.AD_BREAK_END, att)\n      // Just in case AD_END not arriving, because of an AD_ERROR\n      if (this.parentTracker) this.parentTracker.state.isPlaying = true\n      this.stopHeartbeat()\n      if (this.parentTracker && this.isAd()) this.parentTracker.state.goLastAd()\n    }\n  }\n\n  /**\n   * Sends associated event and changes view state. An internal state machine will prevent\n   * duplicated events. Should be associated to an event using registerListeners.\n   * @param {Object} [att] Collection of key:value attributes to send with the request.\n   * @param {number} att.quartile Number of the quartile.\n   */\n  sendAdQuartile (att) {\n    if (this.isAd()) {\n      att = att || {}\n      if (!att.quartile) Log.warn('Called sendAdQuartile without { quartile: xxxxx }.')\n      att.timeSinceLastAdQuartile = this.state.timeSinceLastAdQuartile.getDeltaTime()\n      this.send(VideoTracker.Events.AD_QUARTILE, att)\n      this.state.goAdQuartile()\n    }\n  }\n\n  /**\n   * Sends associated event and changes view state. An internal state machine will prevent\n   * duplicated events. Should be associated to an event using registerListeners.\n   * @param {Object} [att] Collection of key:value attributes to send with the request.\n   * @param {number} att.url Url of the clicked ad.\n   */\n  sendAdClick (att) {\n    if (this.isAd()) {\n      att = att || {}\n      if (!att.url) Log.warn('Called sendAdClick without { url: xxxxx }.')\n      this.send(VideoTracker.Events.AD_CLICK, att)\n    }\n  }\n}\n\n/**\n * Enumeration of events fired by this class.\n *\n * @static\n * @memberof VideoTracker\n * @enum {String}\n */\nVideoTracker.Events = {\n  // Player\n  /** The player is ready to start sending events. */\n  PLAYER_READY: 'PLAYER_READY',\n  /** Downloading data. */\n  DOWNLOAD: 'DOWNLOAD',\n  /** An error happened */\n  ERROR: 'ERROR',\n\n  // Video\n  /** Content video has been requested. */\n  CONTENT_REQUEST: 'CONTENT_REQUEST',\n  /** Content video started (first frame shown). */\n  CONTENT_START: 'CONTENT_START',\n  /** Content video ended. */\n  CONTENT_END: 'CONTENT_END',\n  /** Content video paused. */\n  CONTENT_PAUSE: 'CONTENT_PAUSE',\n  /** Content video resumed. */\n  CONTENT_RESUME: 'CONTENT_RESUME',\n  /** Content video seek started */\n  CONTENT_SEEK_START: 'CONTENT_SEEK_START',\n  /** Content video seek ended. */\n  CONTENT_SEEK_END: 'CONTENT_SEEK_END',\n  /** Content video beffering started */\n  CONTENT_BUFFER_START: 'CONTENT_BUFFER_START',\n  /** Content video buffering ended */\n  CONTENT_BUFFER_END: 'CONTENT_BUFFER_END',\n  /** Content video heartbeat, en event that happens once every 30 seconds while the video is playing. */\n  CONTENT_HEARTBEAT: 'CONTENT_HEARTBEAT',\n  /** Content video stream qwuality changed. */\n  CONTENT_RENDITION_CHANGE: 'CONTENT_RENDITION_CHANGE',\n  /** Content video error. */\n  CONTENT_ERROR: 'CONTENT_ERROR',\n\n  // Ads only\n  /** Ad video has been requested. */\n  AD_REQUEST: 'AD_REQUEST',\n  /** Ad video started (first frame shown). */\n  AD_START: 'AD_START',\n  /** Ad video ended. */\n  AD_END: 'AD_END',\n  /** Ad video paused. */\n  AD_PAUSE: 'AD_PAUSE',\n  /** Ad video resumed. */\n  AD_RESUME: 'AD_RESUME',\n  /** Ad video seek started */\n  AD_SEEK_START: 'AD_SEEK_START',\n  /** Ad video seek ended */\n  AD_SEEK_END: 'AD_SEEK_END',\n  /** Ad video beffering started */\n  AD_BUFFER_START: 'AD_BUFFER_START',\n  /** Ad video beffering ended */\n  AD_BUFFER_END: 'AD_BUFFER_END',\n  /** Ad video heartbeat, en event that happens once every 30 seconds while the video is playing. */\n  AD_HEARTBEAT: 'AD_HEARTBEAT',\n  /** Ad video stream qwuality changed. */\n  AD_RENDITION_CHANGE: 'AD_RENDITION_CHANGE',\n  /** Ad video error. */\n  AD_ERROR: 'AD_ERROR',\n  /** Ad break (a block of ads) started. */\n  AD_BREAK_START: 'AD_BREAK_START',\n  /** Ad break ended. */\n  AD_BREAK_END: 'AD_BREAK_END',\n  /** Ad quartile happened. */\n  AD_QUARTILE: 'AD_QUARTILE',\n  /** Ad has been clicked. */\n  AD_CLICK: 'AD_CLICK'\n}\n\n// Private members\nfunction funnelAdEvents (e) {\n  this.send(e.type, e.data)\n}\n\nexport default VideoTracker\n","import Chrono from './chrono'\nimport Log from './log'\n\n/**\n * State machine for a VideoTracker and its monitored video.\n */\nclass VideoTrackerState {\n  /** Constructor */\n  constructor () {\n    this.reset()\n\n    /**\n     * Time when the VideoTrackerState was initializated.\n     * @private\n     */\n    this._createdAt = Date.now()\n  }\n\n  /** Resets all flags and chronos. */\n  reset () {\n    /**\n     * Unique identifier of the view.\n     * @private\n     */\n    this._viewSession = null\n\n    /**\n     * Number of views seen.\n     * @private\n     */\n    this._viewCount = 0\n\n    /**\n     * True if it is tracking ads.\n     * @private\n     */\n    this._isAd = false\n\n    /**\n     * Number of errors fired. 'End' resets it.\n     */\n    this.numberOfErrors = 0\n\n    /**\n     * Number of ads shown.\n     */\n    this.numberOfAds = 0\n\n    /**\n     * Number of videos played.\n     */\n    this.numberOfVideos = 0\n\n    /**\n     * The amount of ms the user has been watching content (not paused, not buffering, not ads...)\n     */\n    this.totalPlaytime = 0\n\n    /**\n     * The amount of ms the user has been watching ads during an ad break.\n     */\n     this.totalAdPlaytime = 0\n\n    /** True if you are in the middle of an ad break. */\n    this.isAdBreak = false\n\n    /** True if initial buffering event already happened. */\n    this.initialBufferingHappened = false\n\n    this.resetFlags()\n    this.resetChronos()\n  }\n\n  /** Resets flags. */\n  resetFlags () {\n    /** True once the player has finished loading. */\n    this.isPlayerReady = false\n\n    /** True if the video has been user-requested to play. ie: user cicks play. */\n    this.isRequested = false\n\n    /** True if the video has starting playing. ie: actual images/audio showing in screen. */\n    this.isStarted = false\n\n    /** True if the video is paused. */\n    this.isPaused = false\n\n    /** True if the video is performing a seek action. */\n    this.isSeeking = false\n\n    /** True if the video is currently buffering. */\n    this.isBuffering = false\n\n    /** True if the video is currently playing (not buffering, not paused...) */\n    this.isPlaying = false\n  }\n\n  /** Resets chronos. */\n  resetChronos () {\n    /** Chrono that counts time since last requested event. */\n    this.timeSinceRequested = new Chrono()\n\n    /** Chrono that counts time since last start event. */\n    this.timeSinceStarted = new Chrono()\n\n    /** Chrono that counts time since last pause event. */\n    this.timeSincePaused = new Chrono()\n\n    /** Chrono that counts time since last seeking start event. */\n    this.timeSinceSeekBegin = new Chrono()\n\n    /** Chrono that counts time since last buffering start event. */\n    this.timeSinceBufferBegin = new Chrono()\n\n    /** Chrono that counts time since last ad break start event. */\n    this.timeSinceAdBreakStart = new Chrono()\n\n    /** Chrono that counts time since last download event. */\n    this.timeSinceLastDownload = new Chrono()\n\n    /** Chrono that counts time since last heartbeat. */\n    this.timeSinceLastHeartbeat = new Chrono()\n\n    /** Chrono that counts time since last rendition change. */\n    this.timeSinceLastRenditionChange = new Chrono()\n\n    /** Ads only. Chrono that counts time since last ad quartile. */\n    this.timeSinceLastAdQuartile = new Chrono()\n\n    /** Content only. Chrono that counts time since last AD_END. */\n    this.timeSinceLastAd = new Chrono()\n\n    /** Chrono that counts time since last *_RESUME. Only for buffering events. */\n    this.timeSinceResumed = new Chrono()\n\n    /** Chrono that counts time since last *_SEEK_END. Only for buffering events. */\n    this.timeSinceSeekEnd = new Chrono()\n\n    /** Chrono that counts the ammount of time the video have been playing since the last event. */\n    this.playtimeSinceLastEvent = new Chrono()\n\n    /** A dictionary containing the custom timeSince attributes. */\n    this.customTimeSinceAttributes = {}\n  }\n\n  /** Returns true if the tracker is currently on ads. */\n  isAd () {\n    return this._isAd\n  }\n\n  /** Sets if the tracker is currenlty tracking ads */\n  setIsAd (isAd) {\n    this._isAd = isAd\n  }\n\n  /**\n   * Set the Chrono for the custom attribute\n   * \n   * @param {object} name Time since attribute name.\n   */\n  setTimeSinceAttribute (name) {\n    this.customTimeSinceAttributes[name] = new Chrono()\n    this.customTimeSinceAttributes[name].start()\n  }\n\n  /**\n   * Delete a time since attribute\n   * \n   * @param {object} name Time since attribute name.\n   */\n  removeTimeSinceAttribute (name) {\n    delete this.customTimeSinceAttributes[name]\n  }\n\n  /**\n   * Returns a random-generated view Session ID, useful to sort by views.\n   */\n  getViewSession () {\n    if (!this._viewSession) {\n      let time = new Date().getTime()\n      let random = Math.random().toString(36).substring(2) + Math.random().toString(36).substring(2)\n\n      this._viewSession = time + '-' + random\n    }\n\n    return this._viewSession\n  }\n\n  /**\n   * Returns a random-generated view Session ID, plus a view count, allowing you to distinguish\n   * between two videos played in the same session.\n   */\n  getViewId () {\n    return this.getViewSession() + '-' + this._viewCount\n  }\n\n  /**\n   * Fills given object with state-based attributes.\n   *\n   * @param {object} att Collection fo key value attributes\n   * @return {object} Filled attributes\n   */\n  getStateAttributes (att) {\n    att = att || {}\n\n    if (this.isAd()) { // Ads only\n      if (this.isRequested) {\n        att.timeSinceAdRequested = this.timeSinceRequested.getDeltaTime()\n        att.timeSinceLastAdHeartbeat = this.timeSinceLastHeartbeat.getDeltaTime()\n      }\n      if (this.isStarted) att.timeSinceAdStarted = this.timeSinceStarted.getDeltaTime()\n      if (this.isPaused) att.timeSinceAdPaused = this.timeSincePaused.getDeltaTime()\n      if (this.isBuffering) att.timeSinceAdBufferBegin = this.timeSinceBufferBegin.getDeltaTime()\n      if (this.isSeeking) att.timeSinceAdSeekBegin = this.timeSinceSeekBegin.getDeltaTime()\n      if (this.isAdBreak) att.timeSinceAdBreakBegin = this.timeSinceAdBreakStart.getDeltaTime()\n      att.numberOfAds = this.numberOfAds\n    } else { // Content only\n      if (this.isRequested) {\n        att.timeSinceRequested = this.timeSinceRequested.getDeltaTime()\n        att.timeSinceLastHeartbeat = this.timeSinceLastHeartbeat.getDeltaTime()\n      }\n      if (this.isStarted) att.timeSinceStarted = this.timeSinceStarted.getDeltaTime()\n      if (this.isPaused) att.timeSincePaused = this.timeSincePaused.getDeltaTime()\n      if (this.isBuffering) att.timeSinceBufferBegin = this.timeSinceBufferBegin.getDeltaTime()\n      if (this.isSeeking) att.timeSinceSeekBegin = this.timeSinceSeekBegin.getDeltaTime()\n      att.timeSinceLastAd = this.timeSinceLastAd.getDeltaTime()\n      att.numberOfVideos = this.numberOfVideos\n    }\n    att.numberOfErrors = this.numberOfErrors\n\n    // Playtime\n    if (!this.isAd()) { // Content only\n      if (this.playtimeSinceLastEvent.startTime > 0) {\n        att.playtimeSinceLastEvent = this.playtimeSinceLastEvent.getDeltaTime()\n      } else {\n        att.playtimeSinceLastEvent = 0\n      }\n      if (this.isPlaying) {\n        this.playtimeSinceLastEvent.start()\n      } else {\n        this.playtimeSinceLastEvent.reset()\n      }\n      this.totalPlaytime += att.playtimeSinceLastEvent\n      att.totalPlaytime = this.totalPlaytime\n    }\n\n    for (const [key, value] of Object.entries(this.customTimeSinceAttributes)) {\n      att[key] = value.getDeltaTime()\n    }\n\n    return att\n  }\n\n  /**\n   * Calculate the bufferType attribute.\n   * \n   * @param {boolean} isInitialBuffering Is initial buffering event.\n   */\n  calculateBufferType(isInitialBuffering) {\n    let bufferType = ''\n    if (isInitialBuffering) {\n      bufferType = \"initial\";\n    }\n    else if (this.isSeeking) {\n      bufferType = \"seek\";\n    }\n    else if (this.isPaused) {\n      bufferType = \"pause\";\n    }\n    else {\n      // If none of the above is true, it is a connection buffering\n      bufferType = \"connection\";\n    }\n    Log.debug(\"Buffer Type = \" + bufferType)\n    \n    return bufferType\n  }\n\n  /**\n   * Augments view count. This will be called with each *_START and *_END.\n   */\n  goViewCountUp () {\n    this._viewCount++\n  }\n\n  /**\n   * Checks flags and changes state.\n   * @returns {boolean} True if the state changed.\n   */\n  goPlayerReady () {\n    if (!this.isPlayerReady) {\n      this.isPlayerReady = true\n      return true\n    } else {\n      return false\n    }\n  }\n\n  /**\n   * Checks flags and changes state\n   * @returns {boolean} True if the state changed.\n   */\n  goRequest () {\n    if (!this.isRequested) {\n      this.isRequested = true\n      this.timeSinceLastAd.reset()\n      this.timeSinceRequested.start()\n      return true\n    } else {\n      return false\n    }\n  }\n\n  /**\n   * Checks flags and changes state\n   * @returns {boolean} True if the state changed.\n   */\n  goStart () {\n    if (this.isRequested && !this.isStarted) {\n      if (this.isAd()) {\n        this.numberOfAds++\n      } else {\n        this.numberOfVideos++\n      }\n      this.isStarted = true\n      this.isPlaying = true\n      this.timeSinceStarted.start()\n      this.playtimeSinceLastEvent.start()\n      return true\n    } else {\n      return false\n    }\n  }\n\n  /**\n   * Checks flags and changes state\n   * @returns {boolean} True if the state changed.\n   */\n  goEnd () {\n    if (this.isRequested) {\n      this.numberOfErrors = 0\n      this.resetFlags()\n      this.timeSinceRequested.stop()\n      this.timeSinceStarted.stop()\n      this.playtimeSinceLastEvent.stop()\n      return true\n    } else {\n      return false\n    }\n  }\n\n  /**\n   * Checks flags and changes state\n   * @returns {boolean} True if the state changed.\n   */\n  goPause () {\n    if (this.isStarted && !this.isPaused) {\n      this.isPaused = true\n      this.isPlaying = false\n      this.timeSincePaused.start()\n      this.playtimeSinceLastEvent.stop()\n      this.timeSinceResumed.reset()\n      return true\n    } else {\n      return false\n    }\n  }\n\n  /**\n   * Checks flags and changes state\n   * @returns {boolean} True if the state changed.\n   */\n  goResume () {\n    if (this.isStarted && this.isPaused) {\n      this.isPaused = false\n      this.isPlaying = true\n      this.timeSincePaused.stop()\n      this.timeSinceResumed.start()\n      return true\n    } else {\n      return false\n    }\n  }\n\n  /**\n   * Checks flags and changes state\n   * @returns {boolean} True if the state changed.\n   */\n  goBufferStart () {\n    if (this.isRequested && !this.isBuffering) {\n      this.isBuffering = true\n      this.isPlaying = false\n      this.timeSinceBufferBegin.start()\n      return true\n    } else {\n      return false\n    }\n  }\n\n  /**\n   * Checks flags and changes state\n   * @returns {boolean} True if the state changed.\n   */\n  goBufferEnd () {\n    if (this.isRequested && this.isBuffering) {\n      this.isBuffering = false\n      this.isPlaying = true\n      this.timeSinceBufferBegin.stop()\n      return true\n    } else {\n      return false\n    }\n  }\n\n  /**\n   * Checks flags and changes state\n   * @returns {boolean} True if the state changed.\n   */\n  goSeekStart () {\n    if (this.isStarted && !this.isSeeking) {\n      this.isSeeking = true\n      this.isPlaying = false\n      this.timeSinceSeekBegin.start()\n      this.timeSinceSeekEnd.reset()\n      return true\n    } else {\n      return false\n    }\n  }\n\n  /**\n   * Checks flags and changes state\n   * @returns {boolean} True if the state changed.\n   */\n  goSeekEnd () {\n    if (this.isStarted && this.isSeeking) {\n      this.isSeeking = false\n      this.isPlaying = true\n      this.timeSinceSeekBegin.stop()\n      this.timeSinceSeekEnd.start()\n      return true\n    } else {\n      return false\n    }\n  }\n\n  /**\n   * Checks flags and changes state\n   * @returns {boolean} True if the state changed.\n   */\n  goAdBreakStart () {\n    if (!this.isAdBreak) {\n      this.isAdBreak = true\n      this.timeSinceAdBreakStart.start()\n      return true\n    } else {\n      return false\n    }\n  }\n\n  /**\n   * Checks flags and changes state\n   * @returns {boolean} True if the state changed.\n   */\n  goAdBreakEnd () {\n    if (this.isAdBreak) {\n      this.isRequested = false\n      this.isAdBreak = false\n      this.totalAdPlaytime = this.timeSinceAdBreakStart.getDeltaTime()\n      this.timeSinceAdBreakStart.stop()\n      return true\n    } else {\n      return false\n    }\n  }\n\n  /**\n   * Restarts download chrono.\n   */\n  goDownload () {\n    this.timeSinceLastDownload.start()\n  }\n\n  /**\n   * Restarts heartbeat chrono.\n   */\n  goHeartbeat () {\n    this.timeSinceLastHeartbeat.start()\n  }\n\n  /**\n   * Restarts rendition change chrono.\n   */\n  goRenditionChange () {\n    this.timeSinceLastRenditionChange.start()\n  }\n\n  /**\n   * Restarts ad quartile chrono.\n   */\n  goAdQuartile () {\n    this.timeSinceLastAdQuartile.start()\n  }\n\n  /**\n   * Increments error counter.\n   */\n  goError () {\n    this.numberOfErrors++\n  }\n\n  /**\n   * Restarts last ad chrono.\n   */\n  goLastAd () {\n    this.timeSinceLastAd.start()\n  }\n}\n\nexport default VideoTrackerState\n","import * as nrvideo from \"newrelic-video-core\";\nimport { version } from \"../package.json\";\n\nexport default class CAFAdsTracker extends nrvideo.VideoTracker {\n  getTrackerName() {\n    return 'caf-ads';\n  }\n\n  getTrackerVersion() {\n    return version;\n  }\n\n  getVideoId() {\n    if (this.breakClip != null) {\n      return this.breakClip.id\n    }\n    return null\n  }\n\n  getTitle() {\n    if (this.breakClip != null) {\n      return this.breakClip.title\n    }\n    return null\n  }\n\n  getSrc() {\n    if (this.breakClip != null) {\n      return this.breakClip.contentId\n    }\n    return null\n  }\n\n  getDuration() {\n    if (this.breakClip != null) {\n      return this.breakClip.duration\n    }\n    return null\n  }\n\n  registerListeners() {\n    if (!this.player) return;\n\n    this.player.addEventListener(\n      cast.framework.events.EventType.BREAK_STARTED,\n      (event) => {\n        this.onStarted(event);\n      }\n    );\n    this.player.addEventListener(\n      cast.framework.events.EventType.BREAK_ENDED,\n      (event) => {\n        this.onEnded(event);\n      }\n    );\n    this.player.addEventListener(\n      cast.framework.events.EventType.BREAK_CLIP_LOADING,\n      (event) => {\n        this.onClipLoading(event);\n      }\n    );\n    this.player.addEventListener(\n      cast.framework.events.EventType.BREAK_CLIP_STARTED,\n      (event) => {\n        this.onClipStarted(event);\n      }\n    );\n    this.player.addEventListener(\n      cast.framework.events.EventType.BREAK_CLIP_ENDED,\n      (event) => {\n        this.onClipEnded(event);\n      }\n    );\n  }\n\n  onStarted(ev) {\n    nrvideo.Log.debug(\"onStartedAdBreak  = \", ev)\n    this.sendAdBreakStart({ adBreakId: ev.breakId });\n  }\n\n  onEnded(ev) {\n    nrvideo.Log.debug(\"onEndedAdBreak  = \", ev)\n    this.sendAdBreakEnd({ adBreakId: ev.breakId });\n  }\n\n  onClipLoading(ev) {\n    nrvideo.Log.debug(\"onClipLoading  = \", ev)\n    this.breakClip = this.player.getBreakManager().getBreakClipById(ev.breakClipId)\n    this.sendRequest();\n  }\n\n  onClipStarted(ev) {\n    nrvideo.Log.debug(\"onClipStarted  = \", ev)\n    this.sendStart();\n  }\n\n  onClipEnded(ev) {\n    nrvideo.Log.debug(\"onClipEnded  = \", ev)\n    this.sendEnd();\n  }\n}\n","import * as nrvideo from 'newrelic-video-core'\nimport Tracker from './tracker'\n\nnrvideo.CAFTracker = Tracker\n\nmodule.exports = nrvideo\n","import * as nrvideo from 'newrelic-video-core'\nimport { version } from '../package.json'\nimport CAFAdsTracker from './ads'\n\nexport default class CAFTracker extends nrvideo.VideoTracker {\n\n  /**\n   * Constructor\n   */\n  constructor () {\n    super()\n    this.reset()\n    this.registerListeners()\n  }\n\n  registerListeners() {\n    /** CORE Events */\n    this.player.addEventListener(cast.framework.events.EventType.REQUEST_FOCUS_STATE, event => { this.onRequestFocusState(event) })\n    this.player.addEventListener(cast.framework.events.EventType.REQUEST_LOAD, event => { this.onRequestLoad(event) })\n    this.player.addEventListener(cast.framework.events.EventType.REQUEST_STOP, event => { this.onRequestStop(event) })\n    this.player.addEventListener(cast.framework.events.EventType.REQUEST_PAUSE, event => { this.onRequestPause(event) })\n    this.player.addEventListener(cast.framework.events.EventType.REQUEST_PLAY, event => { this.onRequestPlay(event) })\n    this.player.addEventListener(cast.framework.events.EventType.REQUEST_PLAY_AGAIN, event => { this.onRequestPlayAgain(event) })\n    this.player.addEventListener(cast.framework.events.EventType.BUFFERING, event => { this.onBuffering(event) })\n    this.player.addEventListener(cast.framework.events.EventType.MEDIA_FINISHED, event => { this.onMediaFinished(event) })\n    this.player.addEventListener(cast.framework.events.EventType.PAUSE, event => { this.onPause(event) })\n    this.player.addEventListener(cast.framework.events.EventType.PLAYER_LOADING, event => { this.onPlayerLoading(event) })\n    this.player.addEventListener(cast.framework.events.EventType.PLAYER_LOAD_COMPLETE, event => { this.onPlayerLoadComplete(event) })\n    this.player.addEventListener(cast.framework.events.EventType.PLAYER_PRELOADING, event => { this.onPlayerPreloading(event) })\n    this.player.addEventListener(cast.framework.events.EventType.PLAYER_PRELOADING_CANCELLED, event => { this.onPlayerPreloadingCancelled(event) })\n    this.player.addEventListener(cast.framework.events.EventType.PLAYING, event => { this.onPlaying(event) })\n    this.player.addEventListener(cast.framework.events.EventType.REQUEST_SEEK, event => { this.onSeekStart(event) })\n    this.player.addEventListener(cast.framework.events.EventType.SEEKED, event => { this.onSeekEnd(event) })\n    this.player.addEventListener(cast.framework.events.EventType.ERROR, event => { this.onError(event) })\n    this.receiverContext.addEventListener(cast.framework.system.EventType.SHUTDOWN, event => { this.onShutdown(event)})\n\n    /** DEBUG Events */\n    this.player.addEventListener(cast.framework.events.EventType.BITRATE_CHANGED, event => { this.onBitrateChanged(event) })\n    this.player.addEventListener(cast.framework.events.EventType.ENDED, event => { this.onEnded(event) })\n    this.player.addEventListener(cast.framework.events.EventType.PLAY, event => { this.onPlay(event) })\n\n    if (!this.adsTracker) {\n      this.setAdsTracker(new CAFAdsTracker(this.player))\n    }\n  }\n\n  reset () {\n    this.receiverContext = cast.framework.CastReceiverContext.getInstance()\n    this.player = this.receiverContext.getPlayerManager()\n    this._currentBitrate = 0\n  }\n\n  getAttributes (att) {\n    att = super.getAttributes(att)\n\n    if (this.receiverContext.getSenders().length != 0) {\n      att.senderUserAgent = this.receiverContext.getSenders()[0].userAgent\n    }\n\n    return att\n  }\n\n  /** Tracker getters */\n\n  getTrackerName () {\n    return 'caf'\n  }\n\n  getTrackerVersion () {\n    return version\n  }\n\n  getVideoId () {\n    try {\n      return this.player.getMediaInformation().contentId\n    }\n    catch (e) {\n      return null\n    }\n  }\n\n  getPlayhead () {\n    return this.player.getCurrentTimeSec() * 1000\n  }\n\n  getDuration () {\n    try {\n      return this.player.getDurationSec() * 1000\n    }\n    catch (e) {\n      return null\n    }\n  }\n\n  getBitrate () {\n    try {\n      return this.player.getStats().streamBandwidth\n    }\n    catch (e) {\n      return null\n    }\n  }\n\n  getFps () {\n    //TODO\n  }\n\n  getRenditionBitrate () {\n    return this._currentBitrate\n  }\n\n  getRenditionName () {\n    //TODO\n  }\n\n  getRenditionWidth () {\n    try {\n      return this.player.getStats().width\n    }\n    catch (e) {\n      return null\n    }\n  }\n\n  getRenditionHeight () {\n    try {\n      return this.player.getStats().height\n    }\n    catch (e) {\n      return null\n    }\n  }\n\n  getTitle () {\n    try {\n      return this.player.getMediaInformation().metadata.title\n    }\n    catch (e) {\n      return null\n    }\n  }\n\n  getSrc () {\n    try {\n      if (this.player.getMediaInformation().contentUrl != null)\n        return this.player.getMediaInformation().contentUrl\n    }\n    catch (e) {\n      return this.getVideoId()\n    }\n  }\n\n  getPlayerVersion () {\n    try {\n      return cast.player.api.VERSION\n    }\n    catch (e) {\n      return null\n    }\n  }\n\n  isMuted () {\n    try {\n      return this.receiverContext.getSystemVolume().muted\n    }\n    catch (e) {\n      return null\n    }\n  }\n\n  getPlayrate () {\n    return this.player.getPlaybackRate()\n  }\n\n  isAutoplayed () {\n    //TODO\n  }\n\n  getPreload () {\n    //TODO\n  }\n\n  getLanguage () {\n    return this.player.getPreferredTextLanguage()\n  }\n\n  /** CORE Events Listeners */\n\n  onRequestFocusState (ev) {\n    nrvideo.Log.debug(\"onRequestFocusState = \", ev)\n    this.sendPlayerReady()\n  }\n\n  onRequestLoad (ev) {\n    nrvideo.Log.debug(\"OnRequestLoad = \", ev)\n  }\n\n  onRequestStop (ev) {\n    nrvideo.Log.debug(\"OnRequestStop = \", ev)\n  }\n\n  onRequestPause (ev) {\n    nrvideo.Log.debug(\"onRequestPause  = \", ev)\n  }\n\n  onRequestPlay (ev) {\n    nrvideo.Log.debug(\"onRequestPlay  = \", ev)\n    this.sendRequest()\n  }\n\n  onRequestPlayAgain (ev) {\n    nrvideo.Log.debug(\"onRequestPlayAgain  = \", ev)\n  }\n\n  onBuffering (ev) {\n    nrvideo.Log.debug(\"onBuffering  = \", ev)\n    if (ev.isBuffering) {\n      if (this.adsTracker.state.isAdBreak) {\n        nrvideo.Log.debug(\"Ad buffer start\")\n        this.adsTracker.sendBufferStart();\n      } else {\n        nrvideo.Log.debug(\"Buffer start\")\n        this.sendBufferStart()\n      }\n    }\n    else {\n      if (this.adsTracker.state.isAdBreak) {\n        nrvideo.Log.debug(\"Ad buffer end\")\n        this.adsTracker.sendBufferEnd();\n      } else {\n        nrvideo.Log.debug(\"Buffer end\")\n        this.sendBufferEnd()\n      }\n    }\n  }\n\n  onMediaFinished (ev) {\n    nrvideo.Log.debug(\"onMediaFinished  = \", ev)\n    this.sendEnd()\n  }\n\n  onPause (ev) {\n    nrvideo.Log.debug(\"onPause  = \", ev)\n    if (!ev.ended) {\n      this.sendPause()\n    }\n  }\n\n  onPlayerLoading (ev) {\n    nrvideo.Log.debug(\"onPlayerLoading  = \", ev)\n    this.sendRequest()\n  }\n\n  onPlayerLoadComplete (ev) {\n    nrvideo.Log.debug(\"onPlayerLoadComplete  = \", ev)\n  }\n\n  onPlayerPreloading (ev) {\n    nrvideo.Log.debug(\"onPlayerPreloading  = \", ev)\n  }\n\n  onPlayerPreloadingCancelled (ev) {\n    nrvideo.Log.debug(\"onPlayerPreloadingCancelled  = \", ev)\n  }\n\n  onPlaying (ev) {\n    if (!this.adsTracker.state.isAdBreak) {\n      nrvideo.Log.debug(\"onPlaying  = \", ev);\n      if (this.state.isPaused) {\n        this.sendResume()\n      } else {\n        this.sendStart()\n      }\n    }\n  }\n\n  onSeekStart (ev) {\n    nrvideo.Log.debug(\"onSeekStart  = \", ev)\n    this.sendSeekStart()\n  }\n\n  onSeekEnd (ev) {\n    nrvideo.Log.debug(\"onSeekEnd  = \", ev)\n    this.sendSeekEnd()\n  }\n\n  onShutdown (ev) {\n    nrvideo.Log.debug(\"onShutdown  = \", ev)\n    this.sendEnd()\n    this.dispose()\n  }\n  \n  onError (ev) {\n    nrvideo.Log.debug(\"onError  = \", ev)\n    this.sendError({errorCode: ev.detailedErrorCode, errorMessage: ev.reason})\n  }\n\n  /** DEBUG Events Listeners */\n\n  onBitrateChanged (ev) {\n    nrvideo.Log.debug(\"onBitrateChanged  = \", ev)\n    this._currentBitrate = ev.totalBitrate\n    this.sendRenditionChanged()\n  }\n\n  onEnded (ev) {\n    nrvideo.Log.debug(\"onEnded  = \", ev)\n  }\n\n  onPlay (ev) {\n    nrvideo.Log.debug(\"onPlay  = \", ev)\n  }\n}\n\n// Static members\nexport {\n  CAFAdsTracker\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(\"./src/index.js\");\n",""],"names":["Backend","constructor","_attributes","send","event","data","Object","assign","setAttribute","key","value","setAttributes","attr","append","_default","exports","default","Chrono","reset","startTime","stopTime","offset","getDeltaTime","Date","getTime","start","stop","clone","chrono","Constants","AdPositions","PRE","MID","POST","_log","_interopRequireDefault","require","_backend","e","__esModule","Core","addTracker","tracker","on","emit","trackers","push","eventHandler","trackerInit","Log","error","removeTracker","off","dispose","index","indexOf","splice","getTrackers","getBackend","backend","setBackend","backendInstance","undefined","newrelic","addPageAction","isErrorShown","sendError","att","cleanData","level","Levels","DEBUG","notice","type","ret","i","Emitter","callback","_listeners","Array","isArray","forEach","call","target","_nrinsightsbackend","_core","_constants","_chrono","_emitter","_tracker","_videotracker","_videotrackerstate","_package","_len","arguments","length","msg","_key","_report","ERROR","warn","_len2","_key2","WARNING","_len3","_key3","slice","NOTICE","debug","_len4","_key4","debugCommonVideoEvents","o","extraEvents","report","playerEvents","shift","concat","window","addEventListener","addEventHandler","err","SILENT","ALL","colorful","includeTime","prefix","color","_getCurrentTime","_level2letter","document","documentMode","_plainReport","logMethod","console","cast","log","apply","d","hh","getDate","mm","getMinutes","ss","getSeconds","mmm","getMilliseconds","m","_letters","_loadLevelFromUrl","location","search","exec","m2","NRInsightsBackend","accountId","apiKey","eventType","_accountId","_apiKey","_eventType","_eventBuffer","_harvestLocked","_lastTimestamp","setInterval","harvestHandler","Source","TIMER","generateAttributes","timestamp","now","href","origin","pathname","referrer","OSName","navigator","userAgent","match","agentName","deviceType","source","pushEventToInsights","pop","ev","requestOptions","method","headers","body","JSON","stringify","url","fetch","then","response","json","insightsRequestResponse","catch","FETCH","pkg","_interopRequireWildcard","_getRequireWildcardCache","WeakMap","r","t","has","get","n","__proto__","a","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","set","Tracker","options","customData","heartbeat","parentTracker","_trackerReadyChrono","setOptions","unregisterListeners","registerListeners","getHeartbeat","startHeartbeat","_heartbeatInterval","sendHeartbeat","bind","Math","max","stopHeartbeat","clearInterval","Events","HEARTBEAT","getAttributes","trackerName","getTrackerName","trackerVersion","getTrackerVersion","coreVersion","version","timeSinceTrackerReady","hidden","isBackgroundEvent","VideoTracker","player","state","TrackerState","adsTracker","_lastBufferType","setPlayer","tag","setAdsTracker","isAd","setIsAd","prototype","getElementById","disposeAdsTracker","funnelAdEvents","getViewId","getViewSession","getVideoId","getTitle","isLive","getBitrate","getWebkitBitrate","webkitVideoDecodedByteCount","bitrate","_lastWebkitBitrate","delta","seconds","round","getRenditionName","getRenditionBitrate","getRenditionShift","saveNewRendition","current","last","_lastAdRendition","_lastRendition","getRenditionHeight","videoHeight","getRenditionWidth","videoWidth","getDuration","duration","getPlayhead","currentTime","getLanguage","getSrc","currentSrc","getPlayrate","playbackRate","isMuted","muted","isFullscreen","getCdn","getPlayerName","getPlayerVersion","getFps","isAutoplayed","autoplay","getPreload","preload","getAdQuartile","getAdPosition","isStarted","getAdPartner","getAdCreativeId","viewSession","viewId","playerName","playerVersion","pageUrl","adId","adTitle","adBitrate","adRenditionName","adRenditionBitrate","adRenditionHeight","adRenditionWidth","adDuration","adPlayhead","adLanguage","adSrc","adCdn","adIsMuted","adFps","adQuartile","adPosition","adCreativeId","adPartner","contentId","contentTitle","contentIsLive","contentBitrate","contentRenditionName","contentRenditionBitrate","contentRenditionHeight","contentRenditionWidth","contentDuration","contentPlayhead","contentLanguage","contentSrc","contentPlayrate","contentIsFullscreen","contentIsMuted","contentCdn","contentIsAutoplayed","contentPreload","contentFps","totalAdPlaytime","getStateAttributes","sendCustom","actionName","timeSinceAttName","setTimeSinceAttribute","sendPlayerReady","goPlayerReady","PLAYER_READY","sendRequest","goRequest","goViewCountUp","AD_REQUEST","CONTENT_REQUEST","goHeartbeat","sendStart","goStart","AD_START","isPlaying","CONTENT_START","sendEnd","goEnd","AD_END","timeSinceAdRequested","timeSinceRequested","timeSinceAdStarted","timeSinceStarted","CONTENT_END","goLastAd","totalPlaytime","sendPause","goPause","AD_PAUSE","CONTENT_PAUSE","sendResume","goResume","AD_RESUME","timeSinceAdPaused","timeSincePaused","CONTENT_RESUME","sendBufferStart","goBufferStart","AD_BUFFER_START","CONTENT_BUFFER_START","buildBufferAttributes","bufferType","sendBufferEnd","goBufferEnd","AD_BUFFER_END","timeSinceAdBufferBegin","timeSinceBufferBegin","CONTENT_BUFFER_END","initialBufferingHappened","isInitialBuffering","calculateBufferType","timeSinceResumed","timeSinceSeekEnd","sendSeekStart","goSeekStart","AD_SEEK_START","CONTENT_SEEK_START","sendSeekEnd","goSeekEnd","AD_SEEK_END","timeSinceAdSeekBegin","timeSinceSeekBegin","CONTENT_SEEK_END","sendDownload","DOWNLOAD","goDownload","goError","AD_ERROR","CONTENT_ERROR","sendRenditionChanged","timeSinceLastRenditionChange","AD_RENDITION_CHANGE","CONTENT_RENDITION_CHANGE","goRenditionChange","isRequested","AD_HEARTBEAT","CONTENT_HEARTBEAT","sendAdBreakStart","goAdBreakStart","AD_BREAK_START","sendAdBreakEnd","goAdBreakEnd","timeSinceAdBreakBegin","timeSinceAdBreakStart","AD_BREAK_END","sendAdQuartile","quartile","timeSinceLastAdQuartile","AD_QUARTILE","goAdQuartile","sendAdClick","AD_CLICK","VideoTrackerState","_createdAt","_viewSession","_viewCount","_isAd","numberOfErrors","numberOfAds","numberOfVideos","isAdBreak","resetFlags","resetChronos","isPlayerReady","isPaused","isSeeking","isBuffering","timeSinceLastDownload","timeSinceLastHeartbeat","timeSinceLastAd","playtimeSinceLastEvent","customTimeSinceAttributes","name","removeTimeSinceAttribute","time","random","toString","substring","timeSinceLastAdHeartbeat","entries","nrvideo","CAFAdsTracker","breakClip","id","title","framework","events","EventType","BREAK_STARTED","onStarted","BREAK_ENDED","onEnded","BREAK_CLIP_LOADING","onClipLoading","BREAK_CLIP_STARTED","onClipStarted","BREAK_CLIP_ENDED","onClipEnded","adBreakId","breakId","getBreakManager","getBreakClipById","breakClipId","CAFTracker","module","_ads","REQUEST_FOCUS_STATE","onRequestFocusState","REQUEST_LOAD","onRequestLoad","REQUEST_STOP","onRequestStop","REQUEST_PAUSE","onRequestPause","REQUEST_PLAY","onRequestPlay","REQUEST_PLAY_AGAIN","onRequestPlayAgain","BUFFERING","onBuffering","MEDIA_FINISHED","onMediaFinished","PAUSE","onPause","PLAYER_LOADING","onPlayerLoading","PLAYER_LOAD_COMPLETE","onPlayerLoadComplete","PLAYER_PRELOADING","onPlayerPreloading","PLAYER_PRELOADING_CANCELLED","onPlayerPreloadingCancelled","PLAYING","onPlaying","REQUEST_SEEK","onSeekStart","SEEKED","onSeekEnd","onError","receiverContext","system","SHUTDOWN","onShutdown","BITRATE_CHANGED","onBitrateChanged","ENDED","PLAY","onPlay","CastReceiverContext","getInstance","getPlayerManager","_currentBitrate","getSenders","senderUserAgent","getMediaInformation","getCurrentTimeSec","getDurationSec","getStats","streamBandwidth","width","height","metadata","contentUrl","api","VERSION","getSystemVolume","getPlaybackRate","getPreferredTextLanguage","ended","errorCode","detailedErrorCode","errorMessage","reason","totalBitrate"],"sourceRoot":""}